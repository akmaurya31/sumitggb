"use strict";(self.webpackChunkashishs_application_1=self.webpackChunkashishs_application_1||[]).push([[115],{2115:(e,s,l)=>{l.r(s),l.d(s,{default:()=>I});var i=l(2187),a=l(4941),d=l(7330),t=l(73),n=l(7083),r=l(3331),o=l(1316),c=(l(8256),l(579));const m=e=>(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"membershipdata",style:{margin:"0"},children:[1==e.data.idmembership_plan&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h4",{className:"member-headeing ",children:"Instant Discount "}),(0,c.jsx)("div",{className:"row",style:{fontSize:"10px",color:"#000000",marginTop:"23px"},children:(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center gap-8 w-full",children:[(0,c.jsx)("div",{className:"dis-label text center flex justify-center",children:"SAVE 10%"}),(0,c.jsxs)("div",{className:"dis-example-label",children:[(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsx)("span",{children:"Tata Namak MRP"}),(0,c.jsx)("span",{children:"\u20b920"})]}),(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsxs)("span",{children:["Discount ",(0,c.jsx)("b",{children:"(10%)"})]}),(0,c.jsx)("span",{children:"\u20b92"})]}),(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsx)("span",{children:"Net Price"}),(0,c.jsx)("span",{children:"\u20b918"})]})]})]})})]}),2==e.data.idmembership_plan&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h4",{className:"member-headeing",children:"Product Cashback"}),(0,c.jsx)("div",{className:"row",style:{fontSize:"10px",color:"#000000",marginTop:"23px"},children:(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center gap-8 w-full",children:[(0,c.jsx)("div",{className:"dis-label text center flex justify-center",children:"SAVE 15%"}),(0,c.jsxs)("div",{className:"dis-example-label",children:[(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsx)("span",{children:"Tata Namak MRP"}),(0,c.jsx)("span",{children:"\u20b920"})]}),(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsxs)("span",{children:["Discount ",(0,c.jsx)("b",{children:"(15%)"})]}),(0,c.jsx)("span",{children:"\u20b93"})]}),(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsx)("span",{children:"Net Price"}),(0,c.jsx)("span",{children:"\u20b917"})]})]})]})})]}),3==e.data.idmembership_plan&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h4",{className:"member-headeing",children:"Land Cashback"}),(0,c.jsx)("div",{className:"row",style:{fontSize:"10px",color:"#000000",marginTop:"23px"},children:(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center gap-8 w-full",children:[(0,c.jsx)("div",{className:"dis-label text center flex justify-center",children:"SAVE 20%"}),(0,c.jsxs)("div",{className:"dis-example-label",children:[(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsx)("span",{children:"Tata Namak MRP"}),(0,c.jsx)("span",{children:"\u20b920"})]}),(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsxs)("span",{children:["Discount ",(0,c.jsx)("b",{children:"(20%)"})]}),(0,c.jsx)("span",{children:"\u20b94"})]}),(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsx)("span",{children:"Net Price"}),(0,c.jsx)("span",{children:"\u20b916"})]})]})]})})]}),4==e.data.idmembership_plan&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h4",{className:"member-headeing",children:"Co-Partner Cashback"}),(0,c.jsx)("div",{className:"row",style:{fontSize:"10px",color:"#000000",marginTop:"23px"},children:(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center gap-8 w-full",children:[(0,c.jsx)("div",{className:"dis-label text center flex justify-center",children:"SAVE 25%"}),(0,c.jsxs)("div",{className:"dis-example-label",children:[(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsx)("span",{children:"Tata Namak MRP"}),(0,c.jsx)("span",{children:"\u20b920"})]}),(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsxs)("span",{children:["Discount ",(0,c.jsx)("b",{children:"(25%)"})]}),(0,c.jsx)("span",{children:"\u20b95"})]}),(0,c.jsxs)("div",{className:"flex justify-between pl-2 pr-2",children:[(0,c.jsx)("span",{children:"Net Price"}),(0,c.jsx)("span",{children:"\u20b915"})]})]})]})})]})]})});var x=l(5043),u=l(4556),v=l(3216),h=l(3917);const p=e=>{const[s,l]=(0,x.useState)(!1),[t,n]=(0,x.useState)(!1),[p,j]=(0,x.useState)(!1),[f,b]=(0,x.useState)(!1),[g,N]=(0,x.useState)(!1),[y,_]=(0,x.useState)(),w=(0,u.wA)(),k=((0,v.Zp)(),(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.access_token}))),S=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.expires_at})),C=((0,u.d4)((e=>e.LoginOtpVerifyReducer.profile)),(0,u.d4)((e=>{var s;return null===(s=e.LoginOtpVerifyReducer)||void 0===s?void 0:s.currentmembership}))),D=(0,u.d4)((e=>{var s;return null===(s=e.LoginOtpVerifyReducer)||void 0===s?void 0:s.msg}));(0,x.useEffect)((()=>{if(void 0===k&&void 0===S)l(!0);else{const e=Math.floor(Date.now()/1e3);l(S<e)}}),[s,k,S]),(0,x.useEffect)((()=>{if(void 0===k&&void 0===S)l(!0);else{const e=Math.floor(Date.now()/1e3);l(S<e),w((0,r.G$)(k,"customer-address"))}}),[s,k,S]);const A=(0,u.d4)((e=>{var s,l;return null===e||void 0===e||null===(s=e.MembershipReducer)||void 0===s||null===(l=s.membershipData)||void 0===l?void 0:l.data}));(0,x.useEffect)((()=>{if(void 0===k&&void 0===S)l(!0);else{const e=Math.floor(Date.now()/1e3);l(S<e),w((0,a.b8)(k,"membership-plans"))}}),[k]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"card-body",children:(0,c.jsxs)("div",{className:"row",children:[p?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.A,{is_show:p,data:C,Msg:D})}):null,(0,c.jsx)("div",{className:"sm:grid-cols-2 sm:gap-2 member-grid ",children:null===A||void 0===A?void 0:A.map(((e,s)=>(0,c.jsx)("div",{style:{marginBottom:"5px",minHeight:"19rem"},className:e.idmembership_plan==(null===C||void 0===C?void 0:C.idmembership_plan)?" d-md-none d-lg-flex active":"d-md-none d-lg-flex member-card-animation",children:(0,c.jsxs)("div",{style:{cursor:"pointer",fontSize:"18px",color:"#ffffff",width:"100%",height:"100%",backgroundColor:"rgb(233, 240, 223)"},className:e.idmembership_plan==(null===C||void 0===C?void 0:C.idmembership_plan)?"membership-list member-card-active banner-img mb-sm-0 relative wow animate__animated animate__fadeInUp sm:p-[10px] p-3 ":"member-card banner-img mb-sm-0 relative wow animate__animated animate__fadeInUp sm:p-[10px] p-3","data-wow-delay":".4s",children:[(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(m,{data:e})}),(0,c.jsx)("div",{className:"banner-text",style:{top:"90%",right:6,padding:0,width:"97%",left:11},children:e.idmembership_plan==(null===C||void 0===C?void 0:C.idmembership_plan)?(0,c.jsx)("button",{href:"#",className:"active btn btn-xs member-button",style:{width:"90%",justifyContent:"center"},disabled:!0,children:"Active"}):(0,c.jsx)("a",{href:"#",onClick:()=>{return s={idmembership_plan:e.idmembership_plan,membership_name:e.name},b(!0),void _(s);var s},className:"btn btn-xs member-button",children:(null===C||void 0===C||C.idmembership_plan,e.idmembership_plan,"Subscribe")})})]})},s)))})]})}),(0,c.jsx)(d.A,{isOpen:f,onClose:()=>b(!1),title:"Subscribe Membership",children:(0,c.jsx)("div",{style:{width:450,minHeight:100,maxWidth:"100%"},children:(0,c.jsxs)("div",{className:"pt-3",children:[(0,c.jsx)("p",{className:"text-md",children:"Do You really want to subscribe your membership? New membership discounts will be applied on next orders,previous orders will be same as old membership"}),(0,c.jsx)("div",{className:"flex items-center justify-end gap-2",children:g?(0,c.jsx)("button",{className:"button-upgrade flex items-center justify-center",children:(0,c.jsx)(h.A,{size:7,color:"rgb(49, 134, 22)"})}):(0,c.jsx)("button",{className:"button-upgrade flex items-center justify-center",onClick:async()=>{if(await N(!0),await j(!1),y)if(void 0===k&&void 0===S)l(!0);else{const e=Math.floor(Date.now()/1e3);l(S<e),await w((0,i.c4)(k,"api/change-membership",y)),await N(!1),await b(!1),await j(!0)}else t("try after sometime")},children:"Subscribe"})})]})})})]})};var j=l(4858),f=l(5475),b=l(4536),g=l(9e3);const N=e=>{let{title:s}=e;return(0,c.jsx)("div",{className:"card-header p-0",children:(0,c.jsx)("h3",{className:"title",children:s})})};var y=l(4296),_=l(5722);const w=()=>{const{register:e,handleSubmit:s,setError:l,formState:{errors:a}}=(0,j.mN)(),[d,t]=(0,x.useState)(!1),[n,r]=(0,x.useState)(!1),{name:m}=(0,v.g)(),h=(0,u.wA)(),p=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.access_token})),f=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.expires_at})),w=(0,u.d4)((e=>e.LoginOtpVerifyReducer.profile)),k=(0,u.d4)((e=>{var s;return null===(s=e.LoginOtpVerifyReducer)||void 0===s?void 0:s.currentmembership})),S=(0,u.d4)((e=>{var s;return null===(s=e.LoginOtpVerifyReducer)||void 0===s?void 0:s.msg})),[C,D]=(0,x.useState)(w?w.gender:""),[A,F]=(0,x.useState)(w?w.dob:new Date),[M,L]=(0,x.useState)(w?w.age:""),[R,O]=(0,x.useState)({name:w?w.name:"",contact:w?w.contact:"",email:w?w.email:"",gender:w?w.gender:"",dob:w?null===w||void 0===w?void 0:w.dob:"",age:w?w.age:""});(0,x.useEffect)((()=>{if(void 0===p&&void 0===f)t(!0);else{const e=Math.floor(Date.now()/1e3);t(f<e)}}),[d,p,f]);return(0,x.useEffect)((()=>{var e=new Date,s=new Date(A),l=e.getFullYear()-s.getFullYear(),i=e.getMonth()-s.getMonth();(i<0||0===i&&e.getDate()<s.getDate())&&l--,L(l)}),[A]),(0,c.jsxs)("div",{className:"card account-details-style",children:[(0,c.jsx)(N,{title:"Account Details"}),(0,c.jsxs)("div",{className:"card-body",style:{paddingLeft:0},children:[n?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.A,{is_show:n,Msg:S})}):null,(0,c.jsx)("form",{name:"enq",onSubmit:s((async e=>{if(r(!1),e.contact||e.email||e.name||null!==e&&void 0!==e&&e.gender||null!==e&&void 0!==e&&e.dob||null!==e&&void 0!==e&&e.age){if(e.idmembership_plan=k.idmembership_plan,e.dob=new Date(A),void 0===p&&void 0===f)t(!0);else{const s=Math.floor(Date.now()/1e3);t(f<s),await h((0,i.bu)(p,"api/update-profile",e)),await r(!0)}await h((0,i.bu)(p,"api/update-profile",e))}else n("Contact,Email and Name is required")})),children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"form-group col-md-6",children:[(0,c.jsxs)("label",{children:["Full Name ",(0,c.jsx)("span",{className:"required",children:"*"})]}),(0,c.jsx)("input",{required:"",className:"form-control",type:"text",...e("name",{required:"First Name is required"}),value:R.name,onChange:e=>O(e.target.value)}),a.name&&(0,c.jsx)("p",{children:a.name.message})]}),(0,c.jsxs)("div",{className:"form-group col-md-6",children:[(0,c.jsxs)("label",{children:["Contact No. ",(0,c.jsx)("span",{className:"required",children:"*"})]}),(0,c.jsx)("input",{type:"number",...e("contact",{required:"Mobile No is required",maxLength:{value:15,message:"Max Length is 15"},minLength:{value:10,message:"Min Length is 10"}}),value:R.contact,onChange:e=>O(e.target.value)}),a.contact&&(0,c.jsx)("p",{children:a.contact.message})]}),(0,c.jsxs)("div",{className:"form-group col-md-12",children:[(0,c.jsxs)("label",{children:["Email Address ",(0,c.jsx)("span",{className:"required",children:"*"})]}),(0,c.jsx)("input",{required:"",className:"form-control",type:"email",...e("email",{required:"Email is required"}),value:R.email,onChange:e=>O(e.target.value)}),a.email&&(0,c.jsx)("p",{children:a.email.message})]}),(0,c.jsxs)("div",{className:"form-group col-md-6 relative",children:[(0,c.jsx)("label",{children:"Gender"}),(0,c.jsxs)("select",{className:"form-control",...e("gender"),value:null===R||void 0===R?void 0:R.gender,onChange:e=>O(e.target.value),children:[(0,c.jsx)("option",{value:"",children:"Select Gender"}),(0,c.jsx)("option",{value:"male",children:"Male"}),(0,c.jsx)("option",{value:"female",children:"Female"}),(0,c.jsx)("option",{value:"other",children:"Other"})]}),(0,c.jsx)("div",{style:{position:"absolute",right:18,top:37},children:(0,c.jsx)(b.A,{})}),a.gender&&(0,c.jsx)("p",{children:a.gender.message})]}),(0,c.jsxs)("div",{className:"form-group col-md-6",children:[(0,c.jsx)("label",{children:"Select Dob"}),(0,c.jsxs)("div",{className:"form-control relative",children:[(0,c.jsx)(y.Ay,{value:A,onChange:F,format:"DD/MM/YYYY",calendarPosition:"left"}),(0,c.jsx)("div",{className:"absolute calender-icon",children:(0,c.jsx)(_.A,{style:{fontSize:20}})})]}),a.dob&&(0,c.jsx)("p",{children:a.dob.message})]}),(0,c.jsxs)("div",{className:"form-group col-md-12",children:[(0,c.jsx)("label",{children:"Age"}),(0,c.jsx)("input",{required:"",className:"form-control",type:"text",...e("age"),value:M||"",onChange:e=>L(e.target.value),disabled:!0}),a.age&&(0,c.jsx)("p",{children:a.age.message})]}),(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)(g.$n,{type:"submit",className:"btn btn-fill-out submit font-weight-bold",name:"submit",value:"Submit",children:"Save Change"})})]})})]})]})};var k=l(5395),S=l(6178),C=l.n(S),D=l(7719);const A=e=>{var s,l;let{}=e;const{Coupon_data:i,Coupon_loading:a}=(0,u.d4)((e=>null===e||void 0===e?void 0:e.CouponReducer));return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)(N,{title:"Coupons"}),i&&0==(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.length)||null==i?(0,c.jsx)(D.I,{title:"No Coupon Available"}):(0,c.jsx)("div",{className:"card-body",style:{paddingLeft:0},children:(0,c.jsx)("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 grid-cols-3 11flex flex-col gap-3",children:a?(0,c.jsx)(k.a,{}):(0,c.jsx)(c.Fragment,{children:i&&(null===i||void 0===i?void 0:i.data)&&(null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.map((e=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(D.Ni,{coupon:e})}))))})})})]})};var F=l(1740),M=l(8468);const L=()=>{const e=(0,u.wA)(),s=(0,v.zy)(),[l,i]=(0,x.useState)(!1),a=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.access_token})),d=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.expires_at})),t=(0,u.d4)((e=>{var s,l;return null===e||void 0===e||null===(s=e.AddressReducer)||void 0===s||null===(l=s.addressData)||void 0===l?void 0:l.data})),n=t&&(null===t||void 0===t?void 0:t.length)>0&&[...t],o=null===n||void 0===n?void 0:n.reverse();return(0,x.useEffect)((()=>{if("/profile/address"===s.pathname)if(void 0===a&&void 0===d)i(!0);else{const s=Math.floor(Date.now()/1e3);i(d<s),e((0,r.G$)(a,"customer-address"))}}),[l,a,d,s.pathname]),(0,c.jsxs)("div",{className:"card",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center border-b-[2px] border-solid border-[#00000018] mb-3",children:[(0,c.jsx)(N,{title:"My Addresses"}),(0,c.jsx)(F.g,{})]}),o&&o.length>0?(0,c.jsx)("div",{className:"11container-fluid",children:(0,c.jsx)(c.Fragment,{children:null===o||void 0===o?void 0:o.map((e=>(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:`grid grid-cols-12 border-b-[1px] border-solid border-[#00000049] p-2   \n                  ${1===(null===e||void 0===e?void 0:e.is_default)&&"bg-green-50"}`,children:[(0,c.jsxs)("div",{className:"col-span-10",children:[(0,c.jsxs)("strong",{title:"Default Address",children:[e.tag," ",1===(null===e||void 0===e?void 0:e.is_default)&&(0,c.jsx)(M.A,{className:" ",style:{fill:"green",width:18}})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("address",{className:"mb-0",children:[e.name,", ",e.address,", ",e.landmark,","," ",e.pincode,(0,c.jsx)("br",{}),e.phone]})]}),(0,c.jsx)("div",{className:"col-span-2 flex justify-end flex-col items-end",children:(0,c.jsx)(F.g,{address:e})})]})})))})}):(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-lg-12",style:{textAlign:"center"},children:[(0,c.jsx)("h5",{children:"You have no saved addresses"}),(0,c.jsx)("p",{children:"Tell us where you want your orders delivered"})]})})]})};var R=l(1581),O=l(8557);const T=e=>{let{currentPage:s,totalPages:l,pageSize:i,paginate:a}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("span",{children:["Total Pages: ",l]}),(0,c.jsxs)("ul",{className:"pagination flex justify-center",children:[(0,c.jsx)("li",{className:"page-item "+(1===s?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>a(1),disabled:1===s,children:"First"})}),(0,c.jsx)("li",{className:"page-item "+(1===s?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>a(s-1),disabled:1===s,children:"Previous"})}),(()=>{let e=[];const i=Math.max(1,s-2),a=Math.min(l,s+2);i>1&&e.push(1,"...");for(let s=i;s<=a;s++)e.push(s);return a<l&&e.push("...",l),e})().map(((e,l)=>(0,c.jsx)("li",{className:`page-item ${e===s?"active":""} ${"..."===e?"disabled":""}`,children:"..."===e?(0,c.jsx)("span",{className:"page-link d-none"}):(0,c.jsx)("button",{className:"page-link",onClick:()=>a(e),children:e})},l))),(0,c.jsx)("li",{className:"page-item "+(s===l?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>a(s+1),disabled:s===l,children:"Next"})}),(0,c.jsx)("li",{className:"page-item "+(s===l?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>a(l),disabled:s===l,children:"Last"})})]})]})},P=()=>{var e,s,l,i,a,d,t,n,r;const[o,m]=(0,x.useState)(!1),h=(0,u.wA)(),p=(0,v.zy)(),j=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.access_token})),b=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.expires_at})),{order_result:g,order_loading:y}=(0,u.d4)((e=>null===e||void 0===e?void 0:e.MyOrderListReducer));(0,x.useEffect)((()=>{if(void 0===j&&void 0===b)m(!0);else{const e=Math.floor(Date.now()/1e3);m(b<e),h((0,R.FH)("api/myy-order",j,"",""))}}),[o,j,b,p.pathname]);const[_,w]=(0,x.useState)(1),S=5*_,A=S-5,F=null===g||void 0===g||null===(e=g.data)||void 0===e||null===(s=e.slice())||void 0===s?void 0:s.reverse();let M=null===F||void 0===F?void 0:F.sort(((e,s)=>s.idcustomer_order-e.idcustomer_order));M=null===(l=M)||void 0===l?void 0:l.slice(A,S);return(0,c.jsxs)("div",{className:"card orderpage",children:[(0,c.jsx)(N,{title:"My Orders "+(g&&(null===g||void 0===g||null===(i=g.data)||void 0===i?void 0:i.length)>0?"("+(null===g||void 0===g||null===(a=g.data)||void 0===a?void 0:a.length)+")":"")}),0==(null===(d=M)||void 0===d?void 0:d.length)?(0,c.jsx)(D.I,{title:"No Order Available"}):(0,c.jsxs)("div",{className:"card-body",style:{paddingLeft:0},children:[(0,c.jsx)("div",{className:"table-responsive mb-8 "+(y?"h-auto":"sm:h-auto h-[18rem]"),children:(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Order Id"}),(0,c.jsx)("th",{children:"Date"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Total"}),(0,c.jsx)("th",{children:"Order Type"}),(0,c.jsx)("th",{children:"Store Address"}),(0,c.jsx)("th",{children:"Actions"})]})}),y?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:6,children:(0,c.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,c.jsx)(k.a,{})})})}):(0,c.jsx)(c.Fragment,{children:0==(null===(t=M)||void 0===t?void 0:t.length)?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:5,children:(0,c.jsx)("div",{className:"text-center !text-xl font-semibold !text-gray-400",children:"Order Not Found"})})}):(0,c.jsx)("tbody",{style:{fontSize:"14px",opacity:.8},children:(0,c.jsx)(c.Fragment,{children:null===(n=M)||void 0===n?void 0:n.map((e=>(0,c.jsx)(c.Fragment,{children:0==(null===e||void 0===e?void 0:e.total_price)&&0==(null===e||void 0===e?void 0:e.total_quantity)?(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)(f.N_,{to:`/order-detail/${null===e||void 0===e?void 0:e.idcustomer_order}`,props:null===e||void 0===e?void 0:e.created_at,children:["GGB000",null===e||void 0===e?void 0:e.idcustomer_order]})}),(0,c.jsx)("td",{children:C()(null===e||void 0===e?void 0:e.created_at).format("DD/MM/YYYY")}),(0,c.jsx)("td",{children:"Cancelled"}),(0,c.jsxs)("td",{children:["\u20b9",null===e||void 0===e?void 0:e.total_price.toFixed(2)," for"," ",null===e||void 0===e?void 0:e.total_quantity," item"]}),(0,c.jsx)("td",{children:1==(null===e||void 0===e?void 0:e.is_pos)?"Take Away":0==(null===e||void 0===e?void 0:e.is_pos)?"Home Delivery":""}),(0,c.jsx)("td",{children:null===e||void 0===e?void 0:e.address}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,c.jsx)(f.N_,{to:`/order-detail/${null===e||void 0===e?void 0:e.idcustomer_order}`,className:"btn btn-outline-primary ",attr:`${null===e||void 0===e?void 0:e.idcustomer_order}`,children:"Order Details"})})})]},null===e||void 0===e?void 0:e.idcustomer_order):(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)(f.N_,{to:`/order-detail/${null===e||void 0===e?void 0:e.idcustomer_order}`,state:{value:null===e||void 0===e?void 0:e.created_at,coupon_discount:null===e||void 0===e?void 0:e.coupon_discount,flatPackage:null===e||void 0===e?void 0:e.copartner_discount,CashbackinWallet:null===e||void 0===e?void 0:e.wallet_amount,idmembership_plan:null===e||void 0===e?void 0:e.idmembership_plan,total_price:null===e||void 0===e?void 0:e.total_price,pay_mode:null===e||void 0===e?void 0:e.pay_mode,address:null===e||void 0===e?void 0:e.address,type:"ssd"},children:["GGB000",null===e||void 0===e?void 0:e.idcustomer_order]})}),(0,c.jsx)("td",{children:(0,O.Vn)({text:null===e||void 0===e?void 0:e.created_at})}),(0,c.jsx)("td",{children:1==(null===e||void 0===e?void 0:e.status)?"Completed":"Processing"}),(0,c.jsxs)("td",{children:["\u20b9",null===e||void 0===e?void 0:e.total_price.toFixed(2)," for"," ",null===e||void 0===e?void 0:e.total_quantity," item"]}),(0,c.jsx)("td",{children:1==(null===e||void 0===e?void 0:e.is_pos)?"Take Away":0==(null===e||void 0===e?void 0:e.is_pos)?"Home Delivery":""}),(0,c.jsx)("td",{className:"address",children:null===e||void 0===e?void 0:e.address}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,c.jsx)(f.N_,{to:`/order-detail/${null===e||void 0===e?void 0:e.idcustomer_order}`,className:"btn btn-outline-primary ",state:{value:null===e||void 0===e?void 0:e.created_at,coupon_discount:null===e||void 0===e?void 0:e.coupon_discount,flatPackage:null===e||void 0===e?void 0:e.copartner_discount,CashbackinWallet:null===e||void 0===e?void 0:e.wallet_amount,idmembership_plan:null===e||void 0===e?void 0:e.idmembership_plan,total_price:null===e||void 0===e?void 0:e.total_price,pay_mode:null===e||void 0===e?void 0:e.pay_mode,address:null===e||void 0===e?void 0:e.address,type:"ssd"},children:"Order Details"})})})]},null===e||void 0===e?void 0:e.idcustomer_order)})))})})})]})}),(0,c.jsx)(T,{currentPage:_,totalPages:Math.ceil((null===g||void 0===g||null===(r=g.data)||void 0===r?void 0:r.length)/5),pageSize:5,paginate:e=>{w(e)}})]})]})};var V=l(8227),E=l(1455);const z=e=>{var s,l;let{package_data:i}=e;const a=(0,u.wA)(),[d,t]=(0,x.useState)(0),n=(0,u.d4)((e=>e.PackageReducer.package_id));var{cart_result:r,cart_id:o,cart_error:m}=(0,u.d4)((e=>e.CartReducer));const v=(0,u.d4)((e=>{var s;return null===(s=e.WarehouseReducer)||void 0===s?void 0:s.warehouseData})),h=((0,u.d4)((e=>{var s;return null===(s=e.WarehouseReducer)||void 0===s?void 0:s.warehouseData})),null===(s=v[0])||void 0===s?void 0:s.idstore_warehouse);(0,x.useEffect)((()=>{n&&t(n)}),[]);return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)(N,{title:"Exciting Deals"}),0==(null===i||void 0===i?void 0:i.data.length)?(0,c.jsx)(D.I,{title:"No deal available"}):(0,c.jsx)("div",{className:"card-body",style:{paddingLeft:0},children:(0,c.jsx)("div",{className:"packages-grid",children:null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.map(((e,s)=>{var l,i,n;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"package-offer-card shadow-sm mb-2",children:(0,c.jsxs)("div",{className:"flex flex-col 11gap-2 ",children:[(0,c.jsxs)("div",{className:"package-offer-header flex justify-between items-center",children:[(0,c.jsx)("div",{className:"text-left px-1",children:null===e||void 0===e?void 0:e.name}),(0,c.jsxs)("div",{className:"flex items-center justify-between lg:justify-normal sm:w-full w-1/2 pt-2 lg:pt-0",children:[(0,c.jsxs)("span",{className:"text-xs flex font-medium",children:[(0,c.jsx)("span",{className:"text-xs",style:{width:65},children:"Expire On"}),(0,c.jsx)("span",{className:"text-xs",children:(0,O.Vn)({text:null===e||void 0===e?void 0:e.valid_till,isTime:!1})})]}),0==(null===e||void 0===e?void 0:e.bypass_make_gen)&&(d?(0,c.jsx)("span",{className:"text-xs flex text-[#0c831f]",children:" Applied "}):(0,c.jsx)("span",{className:"text-xs flex btn btn-sm btn-default",onClick:()=>(e=>{var s;t(e.idpackage),a((0,V.Yg)(e.idpackage)),e.base_trigger_amount>0||null===e||void 0===e||null===(s=e.trigger_prod)||void 0===s||s.map((e=>{let s=[...r,e];return a((0,E.Mv)("api/add-to-cart3",{cart_id:null==o?Date.now()+Math.floor(1e3*Math.random())+"_Web":o,idstore:h,idproduct_master:e.idproduct_master,idinventory:e.idinventory,qty:e.package_item_qty},s,""))}))})(e),children:"Apply"}))]})]}),(0,c.jsxs)("div",{className:"p-3",children:[(null===e||void 0===e?void 0:e.trigger_prod)&&(null===e||void 0===e?void 0:e.trigger_prod.length)>0&&(0,c.jsx)("div",{className:" pb-0 w-full  flex 11flex-col items-center gap-3 bg-white 11border-b-[1px] border-dashed border-[#0000002c] ",children:(0,c.jsxs)("span",{className:"text-xs text-[#0c831f] font-semibold mb-2",children:["Buy minimum quantity"," ",(null===e||void 0===e?void 0:e.trigger_prod)&&(null===e||void 0===e||null===(l=e.trigger_prod[0])||void 0===l?void 0:l.package_item_qty)," ","to get Free Products"]})}),(0,c.jsxs)("div",{className:" pt-0 w-full  grid grid-cols-12 gap-3 bg-white px-2",children:[(null===e||void 0===e?void 0:e.trigger_prod)&&(null===e||void 0===e?void 0:e.trigger_prod.length)>0&&(0,c.jsx)("div",{className:"sm:col-span-12 col-span-6 flex w-full gap-4 flex-end 11mt-2",children:(0,c.jsx)("div",{className:"flex flex-col gap-2 w-full ",children:null===e||void 0===e||null===(i=e.trigger_prod)||void 0===i?void 0:i.map((e=>(0,c.jsxs)(c.Fragment,{children:[" ",(0,c.jsx)("span",{className:"text-xs",children:"Buying this product"}),(0,c.jsxs)("div",{className:"package-offer-card flex items-center gap-3",style:{padding:5,borderRadius:5,height:80},children:[(0,c.jsxs)("div",{style:{width:70},children:[" ",(0,c.jsx)(g.E9,{className:"default-img",src:"http://allwinmedico.in/ggb-api/public/products/"+e.barcode+".jpg",alt:null===e||void 0===e?void 0:e.description,style:{width:"100%"}})]}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-xs mb-2",children:null===e||void 0===e?void 0:e.prod_name}),(0,c.jsxs)("span",{className:"text-xs font-semibold",children:["\u20b9",null===e||void 0===e?void 0:e.selling_price]})]})]})]})))})}),(0,c.jsx)("div",{className:"sm:col-span-12 col-span-6 flex w-full gap-4 flex-end 11mt-2",children:(0,c.jsx)("div",{className:"flex flex-col gap-2 w-full",children:null===e||void 0===e||null===(n=e.tagged_prod)||void 0===n?void 0:n.map((e=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-xs",children:"Get this product"}),(0,c.jsxs)("div",{className:"package-offer-card flex items-center gap-3",style:{padding:5,borderRadius:5,height:80},children:[(0,c.jsxs)("div",{style:{width:70},children:[" ",(0,c.jsx)(g.E9,{className:"default-img",src:"http://allwinmedico.in/ggb-api/public/products/"+e.barcode+".jpg",alt:null===e||void 0===e?void 0:e.description,style:{width:"100%",height:"70px"}})]}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-xs mb-2",children:null===e||void 0===e?void 0:e.prod_name}),(0,c.jsxs)("span",{className:"text-xs font-semibold",children:["\u20b9",null===e||void 0===e?void 0:e.selling_price]})]})]})]})))})})]})]})]})},s)})}))})})]})};var q=l(5263),$=l(8955),B=l(5369);const W=e=>{var s,l,a,t,n,r,m,p,j,f,b,g,y,_,w,S,C,A,F,M,L,R,O,T,P,V,E;let{currentmembership:z}=e;const[W,Y]=(0,x.useState)(!1),[G,I]=(0,x.useState)(!1),[H,U]=(0,x.useState)(!1),[Z,J]=(0,x.useState)(!1),Q=(0,u.wA)(),K=(0,v.zy)(),[X,ee]=(0,x.useState)(),[se,le]=(0,x.useState)(window.innerWidth<=768),[ie,ae]=(0,x.useState)(window.innerWidth<=480),[de,te]=(0,x.useState)("flex flex-col gap-2 w-full"),[ne,re]=(0,x.useState)("mt-16");(0,x.useEffect)((()=>{ie?(te("flex flex-col gap-2 w-full"),re("mt-16")):(te("sm:grid-cols-2 sm:w-full flex gap-2 w-full"),re(""))}),[]);const oe=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.access_token})),ce=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.expires_at})),{passbook:me,passbook_loading:xe}=(0,u.d4)((e=>null===e||void 0===e?void 0:e.PassbookReducer)),ue=(0,u.d4)((e=>{var s;return null===(s=e.LoginOtpVerifyReducer)||void 0===s?void 0:s.msg}));(0,x.useEffect)((()=>{if(void 0===oe&&void 0===ce)Y(!0);else{const e=Math.floor(Date.now()/1e3);Y(ce<e),Q((0,$.f_)(oe))}}),[W,oe,ce,K]);const[ve,he]=(0,x.useState)(1),pe=5*ve,je=pe-5,fe=null===me||void 0===me||null===(s=me.data)||void 0===s||null===(l=s.data)||void 0===l||null===(a=l.slice())||void 0===a?void 0:a.reverse(),be=(null===fe||void 0===fe||fe.slice(je,pe),e=>{I(!0),ee(e)});(0,x.useEffect)((()=>(window.scrollTo({top:0,scroll:"smooth"}),()=>{})),[xe]);const{order_result:ge,order_loading:Ne}=(0,u.d4)((e=>null===e||void 0===e?void 0:e.MyOrderListReducer)),[ye,_e]=(0,x.useState)(0);(0,x.useEffect)((()=>{var e;let s=0;null===ge||void 0===ge||null===(e=ge.data)||void 0===e||e.forEach((e=>{s+=e.total_price})),_e(s)}),[null===ge||void 0===ge?void 0:ge.data]);const we=[...(null===me||void 0===me||null===(t=me.data)||void 0===t||null===(n=t.find((e=>e.idmembership_plan===(null===z||void 0===z?void 0:z.idmembership_plan))))||void 0===n?void 0:n.transactions.map((e=>({...e,flag:"locked"}))))||[],...(null===me||void 0===me||null===(r=me.data)||void 0===r||null===(m=r.find((e=>0===e.idmembership_plan||null===e.idmembership_plan)))||void 0===m?void 0:m.transactions.map((e=>({...e,flag:"unlocked"}))))||[]];return(0,c.jsxs)("div",{className:"card passbookpage",children:[xe?(0,c.jsx)(k.a,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(N,{title:""}),(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("div",{className:" grid grid-cols-12 gap-3 sm:relative sm:top-0  top-[127px] pt-1 pb-2 bg-white-A700 shadow-sm z-10",children:(0,c.jsx)("div",{className:"sm:col-span-12 col-span-8 flex items-end",children:(0,c.jsxs)("div",{className:de,children:[(0,c.jsxs)("div",{className:`flex flex-col gap-2 items-center justify-start mb-0 w-full ${ne} bg-yellow-400 border p-6 rounded-xl`,children:[(0,c.jsx)("span",{className:"text-[#000] text-xl font-bold mb-3",children:"CashBack Amount"}),(0,c.jsxs)("div",{className:" flex flex-col items-center mb-0",children:[(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center flex-1 mx-2 border rounded shadow-lg p-3 ",children:[(0,c.jsxs)("span",{className:"font-bold text-3xl",children:["\u20b9",null===me||void 0===me||null===(p=me.data)||void 0===p||null===(j=p.find((e=>e.idmembership_plan===z.idmembership_plan)))||void 0===j?void 0:j.current_amount.toFixed(2)]}),(0,c.jsx)("span",{className:"text-sm mt-0",children:"Current"})]}),(0,c.jsx)("span",{style:{fontSize:"65px"},children:"/"}),(0,c.jsxs)("div",{className:"flex flex-col items-center flex-1 mx-2 border rounded shadow-lg p-3",children:[(0,c.jsxs)("span",{className:"font-bold text-3xl",children:["\u20b9",null===me||void 0===me||null===(f=me.data)||void 0===f||null===(b=f.find((e=>e.idmembership_plan===z.idmembership_plan)))||void 0===b?void 0:b.total_incurred.toFixed(2)]}),(0,c.jsx)("span",{className:"text-sm mt-0",children:"Total"})]})]}),(0,c.jsxs)("div",{className:" flex flex-auto mt-3 items-center justify-center",children:[(0,c.jsx)(q.lcY,{style:{fontSize:25},className:"m-3"}),(0,c.jsx)("span",{children:"Locked"})]})]})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-start mb-0 w-full bg-black border p-6 rounded-xl",children:[(0,c.jsx)("span",{className:"text-[#facc15] text-xl mb-3 font-bold",children:"Wallet Amount"}),(0,c.jsxs)("div",{className:"text-[#facc15] flex flex-col items-center mb-0",children:[(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center flex-1  mx-2 border rounded shadow-lg p-3",children:[(0,c.jsxs)("span",{className:"font-bold text-3xl",children:["\u20b9",null===me||void 0===me||null===(g=me.data)||void 0===g||null===(y=g.find((e=>0===e.idmembership_plan||null===e.idmembership_plan)))||void 0===y?void 0:y.current_amount.toFixed(2)]}),(0,c.jsx)("span",{className:"text-sm mt-0",children:"Current"})]}),(0,c.jsx)("span",{style:{fontSize:"65px",textColor:"white"},children:"/"}),(0,c.jsxs)("div",{className:"flex flex-col items-center flex-1  mx-2 border rounded shadow-lg p-3",children:[(0,c.jsxs)("span",{className:"font-bold text-3xl",children:["\u20b9",null===me||void 0===me||null===(_=me.data)||void 0===_||null===(w=_.find((e=>0===e.idmembership_plan||null===e.idmembership_plan)))||void 0===w?void 0:w.total_incurred.toFixed(2)]}),(0,c.jsx)("span",{className:"text-sm mt-0",children:"Total"})]})]}),(0,c.jsxs)("div",{className:" flex flex-auto mt-3 items-center justify-center",children:[(0,c.jsx)(q.lcY,{style:{fontSize:25},className:"m-3"}),(0,c.jsx)("span",{children:"Unlocked"})]})]})]})]})})}),(0,c.jsxs)("div",{class:"flex flex-col",children:[(0,c.jsx)("h5",{class:"text-lg font-semibold mb-2 mt-2",children:"Membership Wish Cashback"}),(0,c.jsx)("div",{className:"sm:col-span-12 col-span-12",children:(0,c.jsxs)("div",{className:" grid grid-cols-12 total_membership sm:mb-0 ",children:[(0,c.jsxs)("div",{className:"item-discount sm:col-span-6 col-span-4 gap-[8px] sm:mb-2 flex flex-col justify-between",children:[(0,c.jsx)("h5",{className:"sm:mx-",style:{fontWeight:"bold",color:2==(null===z||void 0===z?void 0:z.idmembership_plan)?"rgb(12, 131, 31)":"black"},children:"Wish Basket Product"}),(0,c.jsxs)("div",{className:2==(null===z||void 0===z?void 0:z.idmembership_plan)?"box active":"box",children:[(0,c.jsxs)("h6",{className:"text-sm font-semibold mb-0",children:["\u20b9",me&&((null===me||void 0===me||null===(S=me.data)||void 0===S||null===(C=S.find((e=>2==e.idmembership_plan)))||void 0===C?void 0:C.total_incurred)||0).toFixed(2)]}),2==(null===z||void 0===z?void 0:z.idmembership_plan)?(0,c.jsx)("button",{className:"box active mt-2",style:{paddingTop:5,paddingBottom:5,fontSize:12,background:"#0C831F",color:"white"},children:"Active"}):(0,c.jsx)("button",{className:"box active mt-2",style:{paddingTop:5,paddingBottom:5,fontSize:12},onClick:()=>be({idmembership_plan:2,membership_name:"Product wish Basket Discount"}),children:"Subscribe"})]})]}),(0,c.jsxs)("div",{className:"item-discount sm:col-span-6 col-span-4 gap-[8px] sm:mb-2 flex flex-col justify-between",children:[(0,c.jsx)("h5",{className:"sm:mx-4 mx-[7px]",style:{fontWeight:"bold",color:3==(null===me||void 0===me||null===(A=me.data)||void 0===A?void 0:A.memebership_id)?"rgb(12, 131, 31)":"black"},children:"Wish Basket Co-Partner"}),(0,c.jsxs)("div",{className:3==(null===me||void 0===me||null===(F=me.data)||void 0===F?void 0:F.memebership_id)?"box active":"box",children:[(0,c.jsxs)("h6",{className:"text-sm font-semibold mb-0",children:["\u20b9",(null===me||void 0===me||null===(M=me.data)||void 0===M||null===(L=M.find((e=>3==e.idmembership_plan)))||void 0===L?void 0:L.total_incurred)||0]}),3==(null===me||void 0===me||null===(R=me.data)||void 0===R?void 0:R.memebership_id)?(0,c.jsx)("button",{className:"box active mt-2",style:{paddingTop:5,paddingBottom:5,fontSize:12,background:"#0C831F",color:"white"},children:"Active"}):(0,c.jsx)("button",{className:"box active mt-2",style:{paddingTop:5,paddingBottom:5,fontSize:12},onClick:()=>be({idmembership_plan:3,membership_name:"Land wish Basket Discount"}),children:"Subscribe"})]})]}),(0,c.jsxs)("div",{className:"item-discount sm:col-span-6 col-span-4 gap-[8px] sm:mb-2 flex flex-col justify-between",children:[(0,c.jsx)("h5",{className:"sm:mx-",style:{fontWeight:"bold",color:4==(null===me||void 0===me||null===(O=me.data)||void 0===O?void 0:O.memebership_id)?"rgb(12, 131, 31)":"black"},children:"Wish Basket Land"}),(0,c.jsxs)("div",{className:4==(null===z||void 0===z?void 0:z.idmembership_plan)?"box active":"box",children:[(0,c.jsxs)("h6",{className:"text-sm font-semibold mb-0",children:["\u20b9",(null===me||void 0===me||null===(T=me.data)||void 0===T||null===(P=T.find((e=>4==e.idmembership_plan)))||void 0===P?void 0:P.total_incurred)||0]}),(0,c.jsx)("div",{children:4==(null===me||void 0===me||null===(V=me.data)||void 0===V?void 0:V.memebership_id)?(0,c.jsx)("button",{className:"box active mt-2",style:{paddingTop:5,paddingBottom:5,fontSize:12,background:"#0C831F",color:"white"},children:"Active"}):(0,c.jsx)("button",{className:"box active mt-2",style:{paddingTop:5,paddingBottom:5,fontSize:12},onClick:()=>be({idmembership_plan:4,membership_name:"Co-Partner Wish Basket Discount"}),children:"Subscribe"})})]})]})]})})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("div",{className:"",children:[(0,c.jsx)(N,{title:"Transactions"}),(0,c.jsx)("div",{className:"transection-history tableview-parent mb-6",children:(0,c.jsx)("div",{className:"order-detail flex flex-col gap-2 pl- pr-2",style:{maxHeight:240},children:0==(null===me||void 0===me||null===(E=me.data)||void 0===E?void 0:E.find((e=>e.idmembership_plan===(null===z||void 0===z?void 0:z.idmembership_plan))).length)?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(D.I,{title:"Transaction Not Found"})}):(0,c.jsx)(c.Fragment,{children:we.map(((e,s)=>(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{class:"flex",children:[(0,c.jsx)("div",{class:"w-[15%] flex items-center justify-center",children:e&&"locked"==(null===e||void 0===e?void 0:e.flag)?(0,c.jsx)(q.JhU,{style:{fontSize:50,color:"#170a5b"}}):(0,c.jsx)(B.YVu,{style:{fontSize:50,color:"#170a5b"}})}),(0,c.jsxs)("div",{class:"w-[80%]  flex flex-col relative",children:[(0,c.jsxs)("div",{class:"flex flex-col m-2",children:[(0,c.jsxs)("h5",{class:"font-bold",children:["Created (",(null===e||void 0===e?void 0:e.flag)&&e.flag.charAt(0).toUpperCase()+e.flag.slice(1).toLowerCase(),")"]}),(0,c.jsx)("span",{children:null!==e&&void 0!==e&&e.updated_at?new Date(null===e||void 0===e?void 0:e.updated_at).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",",""):""}),(0,c.jsx)("span",{children:null===e||void 0===e?void 0:e.remark})]}),(0,c.jsxs)("h4",{className:"absolute top-2 right-2 font-bold "+("CR"===(null===e||void 0===e?void 0:e.transaction_type)?"text-green-900":"text-red-900"),children:["CR"===(null===e||void 0===e?void 0:e.transaction_type)?"+":"-","\u20b9",null===e||void 0===e?void 0:e.amount]})]})]})})))})})})]})]})]}),(0,c.jsx)(d.A,{isOpen:G,onClose:()=>I(!1),title:"Subscribe Membership",children:(0,c.jsx)("div",{style:{width:450,minHeight:100},children:(0,c.jsxs)("div",{className:"pt-3",children:[(0,c.jsx)("p",{className:"text-md",children:"Do You really want to subscribe your membership? New membership discounts will be applied on next orders,previous orders will be same as old membership"}),(0,c.jsx)("div",{className:"flex items-center justify-end gap-2",children:H?(0,c.jsx)("button",{className:"button-upgrade flex items-center justify-center",children:(0,c.jsx)(h.A,{size:7,color:"rgb(49, 134, 22)"})}):(0,c.jsx)("button",{className:"button-upgrade flex items-center justify-center",onClick:async()=>{if(await U(!0),await J(!1),X)if(void 0===oe&&void 0===ce)Y(!0);else{const e=Math.floor(Date.now()/1e3);Y(ce<e),await Q((0,i.c4)(oe,"api/change-membership",X)),await U(!1),await I(!1),await J(!0),await Q((0,$.f_)(oe))}else alert("try after sometime")},children:"Subscribe"})})]})})}),Z?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.A,{is_show:Z,data:z,Msg:ue})}):null]})};var Y=l(3789),G=l(2508);const I=e=>{var s,l;const r=window.location.pathname,{register:o,handleSubmit:m,setError:h,formState:{errors:b}}=(0,j.mN)(),[g,y]=(0,x.useState)(!1),[_,k]=(0,x.useState)(!1),[S,C]=(0,x.useState)(),[D,F]=(0,x.useState)(),[M,R]=(0,x.useState)("/profile/account"),{name:O}=(0,v.g)(),T=(0,u.wA)(),V=(0,v.Zp)(),[E,q]=(0,x.useState)(!1),$=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.access_token})),B=(0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.expires_at})),I=((0,u.d4)((e=>{var s,l;return null===(s=e.LoginOtpVerifyReducer.verify_result)||void 0===s||null===(l=s.data)||void 0===l?void 0:l["user-details"]})),(0,u.d4)((e=>e.LoginOtpVerifyReducer.profile))),H=(0,u.d4)((e=>{var s;return null===(s=e.LoginOtpVerifyReducer)||void 0===s?void 0:s.currentmembership})),{package_data:U,package_loading:Z}=(0,u.d4)((e=>null===e||void 0===e?void 0:e.PackageReducer)),[J,Q]=((0,u.d4)((e=>{var s;return null===(s=e.LoginOtpVerifyReducer)||void 0===s?void 0:s.msg})),(0,x.useState)({name:I?I.name:"",contact:I?I.contact:"",email:I?I.email:""}));(0,x.useEffect)((()=>{if(void 0===$&&void 0===B)q(!0);else{const e=Math.floor(Date.now()/1e3);q(B<e)}}),[E,$,B]),(0,x.useEffect)((()=>{if(void 0===$&&void 0===B)q(!0);else{const e=Math.floor(Date.now()/1e3);q(B<e),T((0,a.b8)($,"membership-plans"))}}),[]);const K=()=>{T((0,i.ri)()),q(!0),V("/",{replace:!0})},X=e=>2==e?{name:"Product wish basket discount",discount:"15%"}:3==e?{name:"Land wish basket discount",discount:"20%"}:4==e?{name:"Co-Partners wish basket discount",discount:"25%"}:1==e?{name:"Instent wish basket discount",discount:"10%"}:0;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.A,{}),(0,c.jsxs)("main",{className:"main pages",children:[(0,c.jsx)("div",{className:"container-fluid",children:(0,c.jsx)(G.A,{activepage:M.slice(1)})}),(0,c.jsx)("div",{className:"container-fluid",children:(0,c.jsxs)("div",{className:"page-content my-profile_rn grid grid-cols-12 gap-2",children:[(0,c.jsx)("div",{className:"sm:col-span-12 md:col-span-12 col-span-3  px-0 desktop-view",children:(0,c.jsx)("div",{className:"dashboard-menu dashboard-menu2",children:(0,c.jsx)("ul",{className:"nav flex-column",role:"tablist",children:Y._.map(((e,s)=>(0,c.jsx)(c.Fragment,{children:"Logout"===e.name?(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsxs)(f.N_,{className:`flex gap-2 nav-link ${r==e.link&&"active"} `,id:e.link,"data-bs-toggle":"tab",to:"/",role:"tab","aria-controls":e.link,"aria-selected":"false",onClick:K,children:[e.icon,e.name]})},s):(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsxs)(f.N_,{className:`flex gap-2 nav-link \n                              ${r==e.link&&"active"}  `,id:e.link,"data-bs-toggle":"tab",to:e.link,role:"tab","aria-controls":e.link,"aria-selected":"false",onClick:()=>{return s=e.link,V(s),void R(s);var s},children:[e.icon,e.name]})})})))})})}),(0,c.jsx)("div",{className:"sm:col-span-12 md:col-span-12 col-span-9  py-[12px] sm:px-[8px] px-[12px]",children:(0,c.jsxs)("div",{className:"tab-content account dashboard-content",children:[(0,c.jsx)("div",{className:`tab-pane fade  ${"orders"==O&&" active show"} ${void 0==O&&" active show"}`,id:"orders",role:"tabpanel","aria-labelledby":"orders-tab",children:(0,c.jsx)(P,{})}),(0,c.jsx)("div",{className:`tab-pane fade  ${"packages"==O&&" active show"}`,id:"packages",role:"tabpanel","aria-labelledby":"dashboard-tab",children:(0,c.jsx)(z,{package_data:U})}),(0,c.jsx)("div",{className:`tab-pane fade  ${"address"==O&&"active show"}`,id:"address",role:"tabpanel","aria-labelledby":"address-tab",children:(0,c.jsx)(L,{})}),(0,c.jsx)("div",{className:`tab-pane fade  ${"membership"==O&&"active show"}`,id:"membership",role:"tabpanel","aria-labelledby":"dashboard-tab",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)(N,{title:"Membership"}),(0,c.jsx)(p,{})]})}),(0,c.jsx)("div",{className:`tab-pane fade  ${"passbook"==O&&" active show"}`,id:"passbook",role:"tabpanel","aria-labelledby":"dashboard-tab",children:(0,c.jsx)(W,{currentmembership:H})}),(0,c.jsx)("div",{className:`tab-pane fade  ${"coupons"==O&&"active show"}`,id:"coupons",role:"tabpanel","aria-labelledby":"dashboard-tab",children:(0,c.jsx)(A,{})}),(0,c.jsx)("div",{className:`tab-pane fade  ${"account"==O&&" active show"}`,id:"account-detail",role:"tabpanel","aria-labelledby":"account-detail-tab",children:(0,c.jsx)(w,{})})]})})]})})]}),(0,c.jsx)(d.A,{isOpen:S,onClose:()=>C(!1),title:"Order Detail",children:(0,c.jsx)("div",{style:{minWidth:380,minHeight:200},children:(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("div",{className:"flex justify-start  items-start flex-col border-bottom-1",children:[(0,c.jsx)("div",{className:"order-title",children:"Order Inforamtion"}),(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Order No"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.idcustomer_order})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Order Date"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.updated_at})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Payment Type"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.pay_mode})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Total Quantity"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.total_quantity})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Total CGST"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.total_cgst.toFixed(2)})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Total SGST"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.total_sgst.toFixed(2)})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Total Price"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.total_price.toFixed(2)})]})]})]}),null!==(null===D||void 0===D?void 0:D.idmembership_plan)&&null!=(null===D||void 0===D?void 0:D.instant_discount)&&(0,c.jsxs)("div",{className:"flex justify-start  items-start flex-col border-bottom-1",children:[(0,c.jsx)("div",{className:"order-title",children:"Membership Inforamtion"}),(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Membership Name"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===(s=X(null===D||void 0===D?void 0:D.idmembership_plan))||void 0===s?void 0:s.name})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Membership Discount"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===(l=X(null===D||void 0===D?void 0:D.idmembership_plan))||void 0===l?void 0:l.discount})]})]})]}),(0,c.jsxs)("div",{className:"flex justify-start  items-start flex-col",children:[(0,c.jsx)("div",{className:"order-title",children:"Store Inforamtion"}),(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Name"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.name})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Email"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.email})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Contact No"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.contact})]}),(0,c.jsxs)("div",{className:"flex justify-between w-full mt-1",children:[(0,c.jsx)("span",{className:"left-text-modal",children:"Address"}),(0,c.jsx)("span",{className:"rigth-text-modal",children:null===D||void 0===D?void 0:D.address})]})]})]})]})})}),(0,c.jsx)(t.A,{})]})}}}]);
//# sourceMappingURL=115.be484276.chunk.js.map